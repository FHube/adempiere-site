"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[22417],{89245:(e,d,a)=>{a.r(d),a.d(d,{default:()=>o});var s=a(34086);const n=(0,s.uE)('<h1 id="dd" tabindex="-1"><a class="header-anchor" href="#dd" aria-hidden="true">#</a> dd</h1><p><code>dd</code> 命令用于复制磁盘或文件系统。</p><h2 id="复制磁盘" tabindex="-1"><a class="header-anchor" href="#复制磁盘" aria-hidden="true">#</a> 复制磁盘</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>dd if=/dev/sda of=/dev/sdb\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>上面命令表示将<code>/dev/sda</code> 磁盘复制到<code>/dev/sdb</code> 设备。参数 <code>if</code> 表示来源地，<code>of</code> 表示目的地。</p><p>除了复制，<code>dd</code> 还允许将磁盘做成一个镜像文件。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>dd if=/dev/sda of=/home/username/sdadisk.img\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>dd</code> 还可以复制单个分区。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>dd if=/dev/sda2 of=/home/username/partition2.img bs=4096\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>上面命令中，参数 <code>bs</code> 表示单次拷贝的字节数(bytes)。</p><p>要将镜像文件复原，也很简单。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>dd if=sdadisk.img of=/dev/sdb\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="清除数据" tabindex="-1"><a class="header-anchor" href="#清除数据" aria-hidden="true">#</a> 清除数据</h2><p><code>dd</code> 也可以用于清除磁盘数据。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code># 磁盘数据写满 0\n$ dd if=/dev/zero of=/dev/sda1\n\n# 磁盘数据写满随机字符\n$ dd if=/dev/urandom of=/dev/sda1\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="监控进展" tabindex="-1"><a class="header-anchor" href="#监控进展" aria-hidden="true">#</a> 监控进展</h2><p>磁盘的复制通常需要很久，为了监控进展，可以使用 Pipe Viewer 工具软件。如果没有安装这个软件，可以使用下面的命令安装。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>sudo apt install pv\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>然后，来源地和目的地之间插入广告，就可以看到进展了。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ dd if=/dev/urandom | pv | dd of=/dev/sda1\n4,14MB 0:00:05 [ 98kB/s] [      &lt;=&gt;                  ]\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="参考链接" tabindex="-1"><a class="header-anchor" href="#参考链接" aria-hidden="true">#</a> 参考链接</h2>',21),r=(0,s.Uk)("David Clinton, "),i={href:"https://opensource.com/article/18/7/how-use-dd-linux",target:"_blank",rel:"noopener noreferrer"},l=(0,s.Uk)("How to use dd in Linux without destroying your disk"),t={},o=(0,a(82831).Z)(t,[["render",function(e,d){const a=(0,s.up)("ExternalLinkIcon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[n,(0,s._)("ul",null,[(0,s._)("li",null,[r,(0,s._)("a",i,[l,(0,s.Wm)(a)])])])],64)}]])},82831:(e,d)=>{d.Z=(e,d)=>{const a=e.__vccOpts||e;for(const[e,s]of d)a[e]=s;return a}},29422:(e,d,a)=>{a.r(d),a.d(d,{data:()=>s});const s={key:"v-2cd035a9",path:"/linux/bash/archives/commands/dd.html",title:"dd",lang:"zh-CN",frontmatter:{summary:"dd dd 命令用于复制磁盘或文件系统。 复制磁盘 上面命令表示将/dev/sda 磁盘复制到/dev/sdb 设备。参数 if 表示来源地，of 表示目的地。 除了复制，dd 还允许将磁盘做成一个镜像文件。 dd 还可以复制单个分区。 上面命令中，参数 bs 表示单次拷贝的字节数(bytes)。 要将镜像文件复原，也很简单。 清除数据 dd 也可以用于清除",head:[["meta",{property:"og:url",content:"https://mrhope.site/linux/bash/archives/commands/dd.html"}],["meta",{property:"og:site_name",content:"Mr.Hope"}],["meta",{property:"og:title",content:"dd"}],["meta",{property:"og:type",content:"article"}],["meta",{property:"og:updated_time",content:"2021-01-27T06:58:54.000Z"}],["meta",{property:"og:locale",content:"zh-CN"}],["meta",{property:"article:modified_time",content:"2021-01-27T06:58:54.000Z"}]]},excerpt:"",headers:[{level:2,title:"复制磁盘",slug:"复制磁盘",children:[]},{level:2,title:"清除数据",slug:"清除数据",children:[]},{level:2,title:"监控进展",slug:"监控进展",children:[]},{level:2,title:"参考链接",slug:"参考链接",children:[]}],git:{createdTime:1591204114e3,updatedTime:1611730734e3,contributors:[{name:"Mr.Hope",email:"zhangbowang1998@gmail.com",commits:2}]},readingTime:{minutes:1.05,words:315},filePathRelative:"linux/bash/archives/commands/dd.md"}}}]);